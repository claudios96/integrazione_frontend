<!-- parametri:
    sid {principal o no}
    tipo (team, prodotto, ticket)
    id entitÃ  (id team,...)
 -->
<style>
    .switch {
        position: relative;
        display: inline-block;
        width: 50px;
        height: 28px;
    }

    .switch input {
        display: none;
    }

    .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #ccc;
        -webkit-transition: .4s;
        transition: .4s;
    }

    .slider:before {
        position: absolute;
        content: "";
        height: 20px;
        width: 20px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        -webkit-transition: .4s;
        transition: .4s;
    }

    input:checked + .slider {
        background-color: #2196F3;
    }

    input:focus + .slider {
        box-shadow: 0 0 1px #2196F3;
    }

    input:checked + .slider:before {
        -webkit-transform: translateX(20px);
        -ms-transform: translateX(20px);
        transform: translateX(20px);
    }

    /* Rounded sliders */
    .slider.round {
        border-radius: 34px;
    }

    .slider.round:before {
        border-radius: 50%;
    }
</style>

<div>

    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">Dettagli permesso su {{ctrl.tipo}} con id: {{ctrl.idTipo}}</h1>
        </div>
        <!-- /.col-lg-12 -->
    </div>
    <!-- /.row -->
    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="row">
                        <div class="col-lg-6">
                            <form role="form">
                                <div class="form-group">
                                    <label>Permessi relativi all'oggetto {{ctrl.tipo}}</label>

                                    <p class="form-control-static">Valore {{ctrl.tipo}} id: {{ctrl.idTipo}}</p>
                                </div>
                                <div class="form-group">
                                    <label>Valore Sid:</label>
                                    <p class="form-control-static">{{ctrl.sid}}</p>
                                </div>
                            </form>
                        </div>
                        <!-- /.col-lg-6 (nested) -->
                        <div class="col-lg-6">
                            <form role="form">
                                <div class="form-group">
                                    <p class="form-control-static">Permesso di lettura 'R':</p>

                                    <input type="checkbox" ng-model="ctrl.perm[0].grant" ng-disabled="ctrl.value">
                                    <!--<label class="switch">-->
                                    <!--<input type="checkbox" ng-if="ctrl.perm[0].grant">-->
                                    <!--<span class="slider round"></span>-->
                                    <!--</label>-->
                                </div>
                                <div class="form-group">
                                    <p class="form-control-static">Permesso di scrittura 'W':</p>
                                    <input type="checkbox" ng-model="ctrl.perm[1].grant" ng-disabled="ctrl.value">
                                </div>
                                <div class="form-group">
                                    <p class="form-control-static">Permesso di creazione 'C':</p>
                                    <input type="checkbox" ng-model="ctrl.perm[2].grant" ng-disabled="ctrl.value">
                                </div>
                                <div class="form-group">
                                    <p class="form-control-static">Permesso di cancellazione 'D':</p>
                                    <input type="checkbox" ng-model="ctrl.perm[3].grant" ng-disabled="ctrl.value">
                                </div>

                            </form>
                            <!--<button id="menu-toggle" type="button" data-toggle="button" class="btn btn-default btn-xs">-->
                            <!--<i class="fa fa-exchange fa-fw"></i>-->
                            <!--</button>-->
                        </div>
                        <!-- /.col-lg-6 (nested) -->

                    </div>
                    <!-- /.row (nested) -->
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="form-group">
                                <button class="btn btn-default" ng-click="ctrl.changeState()">{{ ctrl.value ? "Abilita
                                    Modifica" : "Disabilita Modifica"}}
                                </button>
                                <button class="btn btn-default" ng-click="ctrl.updatePermission()">Aggiorna Permessi
                                </button>
                                <button class="btn btn-default" ng-click="ctrl.resetFields()">Reset</button>
                                <button class="btn btn-default" ng-click="ctrl.printValue()">Stampa Valori</button>
                            </div>
                        </div>
                    </div>
                    <div ng-if="isDebug">{{ctrl.perm}}</div>
                    <br><br>
                    <div ng-if="isDebug">{{ctrl.oldPerm}}</div>
                </div>
                <!-- /.panel-body -->
            </div>
            <!-- /.panel -->
        </div>
        <!-- /.col-lg-12 -->
    </div>

</div>